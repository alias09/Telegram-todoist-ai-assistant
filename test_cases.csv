id	category	message	expected	notes	human_description
1	create	"Поставь задачу: купить хлеб"	"tasks_new=1; title='купить хлеб'"	"Без проекта → Inbox"	"Создание простой задачи без проекта; проверка парсинга title и дефолтного проекта (Inbox)"
2	create	"Создай задачу \"Подготовить отчёт по проекту\" до завтра 14:00, high, проект Работа"	"tasks_new=1; deadline=tomorrow 14:00; priority=high; project=Работа"	"Относительная дата с USER_TIMEZONE"	"Создание с дедлайном relative, приоритетом и явным проектом; проверка TZ и маппинга PROJECTS"
3	create	"Задача: выбрать подрядчика. В описании: собрать 3 КП. Метки: закупки, поставщики"	"tasks_new=1; body set; labels=['закупки','поставщики']"	""	"Создание с заполнением description (body) и нескольких меток"
4	create	"Добавь: \"Записаться к стоматологу\", метки: здоровье, дедлайн в понедельник 10:00"	"tasks_new=1; labels=['здоровье']; deadline=Mon 10:00"	""	"Создание с относительным днём недели и локальным временем; проверка нормализации дедлайна"
5	create	"Поставь: заказать воду в офис"	"tasks_new=1"	"Inbox"	"Создание без указания проекта/срока/меток; дефолтные поля"
6	clarify	"Поставь задачу сделать дизайн. Срок — к утру"	"clarifying_questions>0"	"Неочевидный срок"	"Провокация уточнений по расплывчатому сроку"
7	clarify	"Сделай напоминание позвонить Ивану. Когда? Сегодня после обеда"	"clarifying_questions>0"	"Напоминание вслед"	"Требуется уточнение параметров напоминания"
8	update_text	"Измени задачу купить хлеб — добавь, что нужен именно чёрный хлеб"	"tasks_updates=1; changes.description append"	"ПРЕДУСЛОВИЕ: есть активная задача 'купить хлеб' (см. case #1)"	"Аппендинг текста в описание по текстовому таргету"
9	update_text	"В задаче найти поставщиков допиши в описании: важен опыт в финтех"	"tasks_updates=1; changes.description append"	"text match in description"	"Поиск цели по заголовку/описанию и аппендинг в description"
10	update_url	"Добавь в задачу https://app.todoist.com/app/task/9734663063: взять именно 2 буханки"	"resolve by URL; changes.description append"	"парсинг /app/task/<id>"	"Разрешение цели по URL и аппендинг описания"
11	update_id	"В задаче 9734663063 допиши: без сахара"	"resolve by ID; changes.description append"	""	"Разрешение цели по числовому ID"
12	update_last	"В последней задаче подними приоритет до high"	"resolve by last; changes.priority=high"	"задействует created_task_ids"	"Ссылка на последнюю созданную задачу в рамках сессии"
13	update_deadline	"Во всех задачах с дедлайном завтра сдвинь на понедельник 10:00"	"selector by due=today+1; changes.deadline"	"фильтр по due"	"Массовая смена дедлайна по относительной дате"
14	update_deadline	"В задачах где срок сегодня продли до завтра 14:30"	"selector by due=today; changes.deadline"	""	"Массовая смена дедлайна на конкретное время"
15	move_project	"Задачу \"брендбук\" перенеси в проект Работа"	"move_task; project=Работа"	"ПРЕДУСЛОВИЕ: есть задача 'брендбук'"	"Перенос задачи в другой проект по названию"
16	move_project	"\"Поменять фильтры\" перенеси в Личные дела"	"move_task; project=Личные дела"	""	"Перенос задачи по текстовому совпадению заголовка"
17	update_labels	"В задаче \"бриф\" добавь метку маркетинг, убери черновик"	"update_task labels add/remove"	"ПРЕДУСЛОВИЕ: есть задача 'бриф'"	"Добавление/удаление меток в рамках update"
18	update_priority	"Задаче \"сверстать лендинг\" поставь priority urgent"	"update_task priority=4"	"ПРЕДУСЛОВИЕ: есть задача 'сверстать лендинг'"	"Смена приоритета на urgent"
19	update_priority	"В задачах со словом \"бриф\" проставь priority medium"	"bulk updates; priority=2"	"ПРЕДУСЛОВИЕ: есть задачи, содержащие 'бриф'"	"Массовая смена приоритета по текстовому фильтру"
20	status	"Закрой задачу \"заказать билеты\""	"close_task"	""	"Закрытие задачи (done)"
21	status	"Переоткрой задачу https://app.todoist.com/app/task/9734663063"	"reopen_task"	""	"Переоткрытие задачи по URL"
22	combo	"В задаче \"Подписать договор\": переименуй в \"Подписать договор с Альфой\", срок завтра 12:00, приоритет high, добавь метку юристы"	"update title, deadline, priority, labels"	"ПРЕДУСЛОВИЕ: есть задача 'Подписать договор'"	"Комплексное обновление нескольких полей одной задачи"
23	selector_description	"В задачах, где в описании упомянуты \"поставщики\", добавь метку закупки"	"filter by description; labels add"	""	"Фильтрация по description и добавление метки"
24	ambiguous	"Во всех задачах со словом \"встреча\" поставь метку встречи"	"may exceed MAX_AUTO_APPLY_MATCHES → ask to narrow"	"проверка порога; возможен запрос уточнения"	"Проверка срабатывания порога автоприменения и запрос на сужение выборки"
25	combo_mixed	"Создай: \"Заказать торт на ДР\" завтра 18:00, Личные дела. И в задаче \"купить свечи\" добавь: цифра 7"	"tasks_new=1 then tasks_updates=1"	"кэш обновится принудительно"	"Смешанный сценарий: создание + обновление; проверка кэша активных задач"
26	english_create	"Create a task: prepare monthly report tomorrow 2pm, priority high, project Работа"	"tasks_new=1; en input"	""	"Создание на английском, проверка мультиязычности"
27	english_update	"Update task buy bread — add note: rye bread only"	"tasks_updates=1; description append"	"PRECONDITION: active task 'buy bread' exists"	"Обновление на английском с аппендингом описания"
28	addressed	"Валера, найди подрядчиков по печати"	"direction=from_me; tasks_new=1"	""	"Определение direction=from_me по обращению к третьему лицу"
29	assign_third	"Поставь задачу Саше: подготовить бриф до понедельника 10:00, high"	"direction=from_me; tasks_new=1"	""	"Назначение задачи третьему лицу + дедлайн и приоритет"
30	bad_url	"Обнови: https://app.todoist.com/app/task/abc123 — добавь \"нужно согласовать\""	"no id → ask to clarify"	"ошибка URL, нет числового id"	"Валидирование URL и запрос уточнения при отсутствии числового ID"
31	not_found	"Поменяй задачу https://todoist.com/showTask?id=999999999999 — приоритет high"	"0 matches → ask to clarify"	"возможен неактивный id"	"Поведение при отсутствующей/неактивной задаче"
32	fuzzy	"Правь задачу купить хлебушек — добавь чёрный"	"fuzzy match; description append"	"уменьшительное"	"Нечёткий поиск по изменённой форме слова (уменьшительное)"
33	batch_project	"Все задачи в проекте Личные дела перенеси на выходные"	"filter by project; move & deadline"	"массовый апдейт; ПРЕДУСЛОВИЕ: проект 'Личные дела' в PROJECTS"	"Массовый перенос проекта + сдвиг сроков"
34	batch_label	"Все задачи в проекте Работа с меткой ‘бриф’ сделай medium"	"filter by project+label; priority"	"массовый апдейт; ПРЕДУСЛОВИЕ: проект 'Работа' и метка 'бриф'"	"Массовая смена приоритета по проекту и метке"
35	reminder	"Напомни завтра в 9:15 забрать документы"	"reminders=1"	""	"Создание напоминания по абсолютному времени"
36	reminder_offset	"Напоминание через 30 минут: отправить отчёт"	"reminders=1; offset=PT30M"	""	"Создание напоминания по относительному интервалу"

# Query (read-only) cases
37	query_today	"Покажи задачи на сегодня в проекте Работа"	"intent=query; filters.time.due=today; project=Работа"	"Только чтение; ответ текстом"	"Q&A: серверные и локальные фильтры, рендер краткого ответа"
38	query_label	"Сколько задач с меткой urgent?"	"intent=query; filters.labels.include=['urgent']"	"числовой ответ"	"Q&A: подсчёт задач по метке"
39	query_overdue	"Какие задачи просрочены?"	"intent=query; filters.time.due=overdue"	"список коротких строк"	"Q&A: фильтр overdue и формирование списка"
40	query_text	"Найди задачи, где в описании упомянута печать"	"intent=query; filters.text.contains=['печать']"	"поиск по description"	"Q&A: поиск по подстроке в description"
41	query_ambiguous	"Покажи задачи на понедельник"	"clarifying_questions>0 ИЛИ intent=query с filters.time.due_on=YYYY-MM-DD"	"если дата не однозначна, спросить уточнение"	"Q&A: требование уточнить конкретный календарный понедельник"
id	category	message	expected	notes
100	mixed	"Купить хлеб и напомни через час позвонить маме"	"tasks_new=1; reminders=1"	"Mixed intent: create task + reminder"
101	mixed_update	"Создай задачу 'Отчет' и в задаче 'купить хлеб' добавь метку срочно"	"tasks_new=1; tasks_updates=1"	"Mixed intent: create + update"
